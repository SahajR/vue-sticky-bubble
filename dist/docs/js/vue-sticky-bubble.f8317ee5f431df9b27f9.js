webpackJsonp([2],{25:function(t,i,e){function s(t){e(93)}var n=e(39)(e(47),e(98),s,"data-v-26fdc28e",null);t.exports=n.exports},43:function(t,i,e){"use strict";e.d(i,"e",function(){return s}),e.d(i,"c",function(){return n}),e.d(i,"d",function(){return o}),e.d(i,"a",function(){return r}),e.d(i,"b",function(){return h});var s=4,n=.75,o=.25,r=5e-4,h=20},45:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e(25),n=e.n(s);i.default=n.a},47:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e(48),n=e.n(s),o=e(50),r=e.n(o),h=e(43),u=function(t){return t*t},d=function(t){var i=t.x,e=t.y;return Math.sqrt(u(i)+u(e))};i.default={name:"vue-sticky-bubble",props:{size:{type:Number,default:40},bubbleStyle:{type:Object,default:function(){}},icon:{type:String,default:"https://vuejs.org/images/logo.png"},badgeStyle:{type:Object,default:function(){}},badgeCount:{type:Number}},methods:{handleTap:function(){this.$emit("tapped")},handlePointerDownWithCoords:function(t){var i=t.x,e=t.y;this.isDragging=!0,this.hasRested=!1,this.initialPosition.x=i-this.limits.left,this.initialPosition.y=e-this.limits.top},handlePointerMoveWithCoords:function(t){var i=t.x,e=t.y;this.pointerPosition.x=i-this.limits.left,this.pointerPosition.y=e-this.limits.top},handlePointerUp:function(){var t=d(this.velocity)<h.a,i=this.position.x<this.radius+h.b||this.position.x>this.limits.width-this.radius-h.b,e=d(this.position)<d(this.initialPosition)+h.b;i&&t&&e&&this.handleTap()},tick:function(){var t=this.$refs["vsb-bubble"];t&&(requestAnimationFrame(this.tick),this.isDragging&&!this.hasRested?(this.previousPosition.x=this.position.x,this.previousPosition.y=this.position.y,this.position.x=this.pointerPosition.x,this.position.y=this.pointerPosition.y,this.velocity.x=this.position.x-this.previousPosition.x,this.velocity.y=this.position.y-this.previousPosition.y):(this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,this.velocity.x*=h.c,this.velocity.y*=h.c),this.position.x>this.limits.width-this.radius&&(this.velocity.x*=-h.d,this.position.x=this.limits.width-this.radius),this.position.x<this.radius&&(this.velocity.x*=-h.d,this.position.x=this.radius),this.position.y>this.limits.height-this.radius&&(this.velocity.y*=-h.d,this.position.y=this.limits.height-this.radius),this.position.y<this.radius&&(this.velocity.y*=-h.d,this.position.y=this.radius),this.velocity.x<h.a&&this.velocity.y<h.a&&!this.isDragging&&(this.position.x<this.limits.width/2?(this.isRestingRight=!1,this.velocity.x=(this.radius-this.position.x)/h.e):(this.isRestingRight=!0,this.velocity.x=(this.limits.width-this.position.x-this.radius)/h.e),this.isResting=!0),!this.isResting||this.position.x!==this.limits.width-this.radius&&this.position.x!==this.radius||(this.isResting=!1,this.hasRested=!0),t.style.left=this.position.x+"px",t.style.top=this.position.y+"px")}},computed:{hasBadgeCount:function(){return!!this.badgeCount},appliedBadgeStyle:function(){return this.isRestingRight?this.badgeStyle:r()({},this.badgeStyle,{right:0})},iconStyle:function(){var t=this.size||40;return{width:t/2+"px",height:t/2+"px",marginTop:t/4+"px",userSelect:"none"}},sizeStyle:function(){var t=this.size||40;return{width:t+"px",height:t+"px",margin:"-"+t/2+"px 0 0 -"+t/2+"px",borderRadius:t+"px"}},appliedBubbleStyle:function(){return r()({},this.bubbleStyle,this.sizeStyle)}},data:function(){return{hasTouchSupport:!1,isResting:!1,isRestingRight:!1,hasRested:!0,isDragging:!1,initialPosition:{x:0,y:0},pointerPosition:{x:0,y:0},position:{x:0,y:0},previousPosition:{x:0,y:0},velocity:{x:0,y:0},limits:{},radius:0,pointerDownListener:null,pointerUpListeners:new n.a,pointerMoveListener:null}},mounted:function(){var t=this;if("undefined"!=typeof document){var i=this.$refs["vsb-bubble"],e=i.parentNode;if(!["relative","absolute"].includes(window.getComputedStyle(e,null).position))throw new Error("Vue sticky bubble requires its parent to be positioned absolutely/relatively.");this.hasTouchSupport="ontouchstart"in document.documentElement,this.radius=i.offsetWidth/2,this.limits=e.getBoundingClientRect(),window.addEventListener("resize",function(){t.radius=i.offsetWidth/2,t.limits=e.getBoundingClientRect()}),this.pointerUpListeners.set("documentPointerUpListener",function(){t.isDragging=!1}),this.pointerUpListeners.set("bubblePointerUpListener",function(){t.handlePointerUp()}),this.hasTouchSupport?(this.pointerDownListener=function(i){var e=i.touches[0],s=e.clientX,n=e.clientY;t.handlePointerDownWithCoords({x:s,y:n})},this.pointerMoveListener=function(i){var e=i.touches[0],s=e.clientX,n=e.clientY;t.handlePointerMoveWithCoords({x:s,y:n})},i.addEventListener("touchstart",this.pointerDownListener),i.addEventListener("touchend",this.pointerUpListeners.get("bubblePointerUpListener")),document.addEventListener("touchend",this.pointerUpListeners.get("documentPointerUpListener")),e.addEventListener("touchmove",this.pointerMoveListener)):(this.pointerDownListener=function(i){var e=i.x,s=i.y;t.handlePointerDownWithCoords({x:e,y:s})},this.pointerMoveListener=function(i){var e=i.x,s=i.y;t.handlePointerMoveWithCoords({x:e,y:s})},i.addEventListener("mousedown",this.pointerDownListener),i.addEventListener("mouseup",this.pointerUpListeners.get("bubblePointerUpListener")),document.addEventListener("mouseup",this.pointerUpListeners.get("documentPointerUpListener")),e.addEventListener("mousemove",this.pointerMoveListener)),this.tick()}},beforeDestroy:function(){var t=this.$refs["vsb-bubble"],i=t.parentNode;t.removeEventListener("mousedown",this.pointerDownListener),t.removeEventListener("mouseup",this.pointerUpListeners.get("bubblePointerUpListener")),document.removeEventListener("mouseup",this.pointerUpListeners.get("documentPointerUpListener")),i.removeEventListener("mousemove",this.pointerMoveListener)}}},93:function(t,i){},98:function(t,i){t.exports={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{ref:"vsb-bubble",style:t.appliedBubbleStyle,attrs:{id:"vsb-bubble"}},[e("img",{style:t.iconStyle,attrs:{src:t.icon,draggable:"false"}}),t._v(" "),t.hasBadgeCount?e("div",{style:t.appliedBadgeStyle,attrs:{id:"vsb-badge"}},[t._v(t._s(t.badgeCount))]):t._e()])},staticRenderFns:[]}}},[45]);
//# sourceMappingURL=vue-sticky-bubble.f8317ee5f431df9b27f9.js.map