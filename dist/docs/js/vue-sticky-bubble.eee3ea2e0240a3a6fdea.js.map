{"version":3,"sources":["webpack:///docs/js/vue-sticky-bubble.eee3ea2e0240a3a6fdea.js","webpack:///./src/components/vue-sticky-bubble.vue?83eb","webpack:///./src/constants/index.js","webpack:///./src/lib.js","webpack:///vue-sticky-bubble.vue","webpack:///./src/components/vue-sticky-bubble.vue?e7b1"],"names":["webpackJsonp","25","module","exports","__webpack_require__","injectStyle","ssrContext","Component","43","__webpack_exports__","d","RESTING_PERIOD","FRICTION","REBOUND_STRENGTH","RESTING_VELOCITY","TOLERANCE","45","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__components_vue_sticky_bubble__","__WEBPACK_IMPORTED_MODULE_0__components_vue_sticky_bubble___default","n","47","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_map__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_map___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default","__WEBPACK_IMPORTED_MODULE_2__constants__","sqr","x","abs","_ref","y","Math","sqrt","name","props","size","type","Number","default","bubbleStyle","icon","String","badgeStyle","badgeCount","methods","handleTap","this","$emit","handlePointerDownWithCoords","_ref2","isDragging","hasRested","initialPosition","limits","left","top","handlePointerMoveWithCoords","_ref3","pointerPosition","handlePointerUp","hasNoSignificantVelocity","velocity","isNearTheEdge","position","radius","width","isNearOriginalPosition","tick","bubble","$refs","requestAnimationFrame","previousPosition","height","isRestingRight","isResting","style","computed","hasBadgeCount","appliedBadgeStyle","right","iconStyle","marginTop","userSelect","sizeStyle","margin","borderRadius","appliedBubbleStyle","data","hasTouchSupport","pointerDownListener","pointerUpListeners","a","pointerMoveListener","mounted","_this","document","container","parentNode","includes","window","getComputedStyle","Error","documentElement","offsetWidth","getBoundingClientRect","addEventListener","set","event","_event$touches$","touches","clientX","clientY","_event$touches$2","get","_ref4","_ref5","beforeDestroy","removeEventListener","93","98","render","_vm","_h","$createElement","_c","_self","ref","attrs","id","src","draggable","_v","_s","_e","staticRenderFns"],"mappings":"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","file":"docs/js/vue-sticky-bubble.eee3ea2e0240a3a6fdea.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ 25:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(93)\n}\nvar Component = __webpack_require__(39)(\n  /* script */\n  __webpack_require__(47),\n  /* template */\n  __webpack_require__(98),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-26fdc28e\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 43:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return RESTING_PERIOD; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return FRICTION; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return REBOUND_STRENGTH; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return RESTING_VELOCITY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return TOLERANCE; });\nvar RESTING_PERIOD = 4;\nvar FRICTION = 0.75;\nvar REBOUND_STRENGTH = 0.25;\nvar RESTING_VELOCITY = 0.0005;\nvar TOLERANCE = 20;\n\n/***/ }),\n\n/***/ 45:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_vue_sticky_bubble__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_vue_sticky_bubble___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_vue_sticky_bubble__);\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (__WEBPACK_IMPORTED_MODULE_0__components_vue_sticky_bubble___default.a);\n\n/***/ }),\n\n/***/ 47:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_map__ = __webpack_require__(48);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_map__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants__ = __webpack_require__(43);\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\nvar sqr = function sqr(x) {\n  return x * x;\n};\nvar abs = function abs(_ref) {\n  var x = _ref.x,\n      y = _ref.y;\n  return Math.sqrt(sqr(x) + sqr(y));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'vue-sticky-bubble',\n  props: {\n    size: {\n      type: Number,\n      default: 40\n    },\n    bubbleStyle: {\n      type: Object,\n      default: function _default() {}\n    },\n    icon: {\n      type: String,\n      default: 'https://vuejs.org/images/logo.png'\n    },\n    badgeStyle: {\n      type: Object,\n      default: function _default() {}\n    },\n    badgeCount: {\n      type: Number\n    }\n  },\n  methods: {\n    handleTap: function handleTap() {\n      this.$emit('tapped');\n    },\n    handlePointerDownWithCoords: function handlePointerDownWithCoords(_ref2) {\n      var x = _ref2.x,\n          y = _ref2.y;\n\n      this.isDragging = true;\n      this.hasRested = false;\n      this.initialPosition.x = x - this.limits.left;\n      this.initialPosition.y = y - this.limits.top;\n    },\n    handlePointerMoveWithCoords: function handlePointerMoveWithCoords(_ref3) {\n      var x = _ref3.x,\n          y = _ref3.y;\n\n      this.pointerPosition.x = x - this.limits.left;\n      this.pointerPosition.y = y - this.limits.top;\n    },\n    handlePointerUp: function handlePointerUp() {\n      var hasNoSignificantVelocity = abs(this.velocity) < __WEBPACK_IMPORTED_MODULE_2__constants__[\"a\" /* RESTING_VELOCITY */];\n      var isNearTheEdge = this.position.x < this.radius + __WEBPACK_IMPORTED_MODULE_2__constants__[\"b\" /* TOLERANCE */] || this.position.x > this.limits.width - this.radius - __WEBPACK_IMPORTED_MODULE_2__constants__[\"b\" /* TOLERANCE */];\n      var isNearOriginalPosition = abs(this.position) < abs(this.initialPosition) + __WEBPACK_IMPORTED_MODULE_2__constants__[\"b\" /* TOLERANCE */];\n      if (isNearTheEdge && hasNoSignificantVelocity && isNearOriginalPosition) {\n        this.handleTap();\n      }\n    },\n    tick: function tick() {\n      var bubble = this.$refs['vsb-bubble'];\n      if (!bubble) return;\n\n      requestAnimationFrame(this.tick);\n\n      if (this.isDragging && !this.hasRested) {\n        this.previousPosition.x = this.position.x;\n        this.previousPosition.y = this.position.y;\n\n        this.position.x = this.pointerPosition.x;\n        this.position.y = this.pointerPosition.y;\n\n        this.velocity.x = this.position.x - this.previousPosition.x;\n        this.velocity.y = this.position.y - this.previousPosition.y;\n      } else {\n        this.position.x += this.velocity.x;\n        this.position.y += this.velocity.y;\n\n        this.velocity.x *= __WEBPACK_IMPORTED_MODULE_2__constants__[\"c\" /* FRICTION */];\n        this.velocity.y *= __WEBPACK_IMPORTED_MODULE_2__constants__[\"c\" /* FRICTION */];\n      }\n\n      if (this.position.x > this.limits.width - this.radius) {\n        this.velocity.x *= -__WEBPACK_IMPORTED_MODULE_2__constants__[\"d\" /* REBOUND_STRENGTH */];\n        this.position.x = this.limits.width - this.radius;\n      }\n\n      if (this.position.x < this.radius) {\n        this.velocity.x *= -__WEBPACK_IMPORTED_MODULE_2__constants__[\"d\" /* REBOUND_STRENGTH */];\n        this.position.x = this.radius;\n      }\n\n      if (this.position.y > this.limits.height - this.radius) {\n        this.velocity.y *= -__WEBPACK_IMPORTED_MODULE_2__constants__[\"d\" /* REBOUND_STRENGTH */];\n        this.position.y = this.limits.height - this.radius;\n      }\n\n      if (this.position.y < this.radius) {\n        this.velocity.y *= -__WEBPACK_IMPORTED_MODULE_2__constants__[\"d\" /* REBOUND_STRENGTH */];\n        this.position.y = this.radius;\n      }\n\n      if (this.velocity.x < __WEBPACK_IMPORTED_MODULE_2__constants__[\"a\" /* RESTING_VELOCITY */] && this.velocity.y < __WEBPACK_IMPORTED_MODULE_2__constants__[\"a\" /* RESTING_VELOCITY */] && !this.isDragging) {\n        if (this.position.x < this.limits.width / 2) {\n          this.isRestingRight = false;\n          this.velocity.x = (this.radius - this.position.x) / __WEBPACK_IMPORTED_MODULE_2__constants__[\"e\" /* RESTING_PERIOD */];\n        } else {\n          this.isRestingRight = true;\n          this.velocity.x = (this.limits.width - this.position.x - this.radius) / __WEBPACK_IMPORTED_MODULE_2__constants__[\"e\" /* RESTING_PERIOD */];\n        }\n        this.isResting = true;\n      }\n\n      if (this.isResting && (this.position.x === this.limits.width - this.radius || this.position.x === this.radius)) {\n        this.isResting = false;\n        this.hasRested = true;\n      }\n\n      bubble.style.left = this.position.x + 'px';\n      bubble.style.top = this.position.y + 'px';\n    }\n  },\n  computed: {\n    hasBadgeCount: function hasBadgeCount() {\n      return !!this.badgeCount;\n    },\n    appliedBadgeStyle: function appliedBadgeStyle() {\n      return this.isRestingRight ? this.badgeStyle : __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default()({}, this.badgeStyle, {\n        right: 0\n      });\n    },\n    iconStyle: function iconStyle() {\n      var size = this.size || 40;\n      return {\n        width: size / 2 + 'px',\n        height: size / 2 + 'px',\n        marginTop: size / 4 + 'px',\n        userSelect: 'none'\n      };\n    },\n    sizeStyle: function sizeStyle() {\n      var size = this.size || 40;\n      return {\n        width: size + 'px',\n        height: size + 'px',\n        margin: '-' + size / 2 + 'px 0 0 -' + size / 2 + 'px',\n        borderRadius: size + 'px'\n      };\n    },\n    appliedBubbleStyle: function appliedBubbleStyle() {\n      return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default()({}, this.bubbleStyle, this.sizeStyle);\n    }\n  },\n  data: function data() {\n    return {\n      hasTouchSupport: false,\n      isResting: false,\n      isRestingRight: false,\n      hasRested: true,\n      isDragging: false,\n      initialPosition: { x: 0, y: 0 },\n      pointerPosition: { x: 0, y: 0 },\n      position: { x: 0, y: 0 },\n      previousPosition: { x: 0, y: 0 },\n      velocity: { x: 0, y: 0 },\n      limits: {},\n      radius: 0,\n      pointerDownListener: null,\n      pointerUpListeners: new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_map___default.a(),\n      pointerMoveListener: null\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    if (typeof document === 'undefined') {\n      return;\n    }\n\n    var bubble = this.$refs['vsb-bubble'];\n    var container = bubble.parentNode;\n\n    var containerStyle = window.getComputedStyle(container, null);\n    if (!['relative', 'absolute'].includes(containerStyle.position)) {\n      throw new Error('Vue sticky bubble requires its parent to be positioned absolutely/relatively.');\n    }\n\n    this.hasTouchSupport = 'ontouchstart' in document.documentElement;\n    this.radius = bubble.offsetWidth / 2;\n    this.limits = container.getBoundingClientRect();\n\n    window.addEventListener('resize', function () {\n      _this.radius = bubble.offsetWidth / 2;\n      _this.limits = container.getBoundingClientRect();\n    });\n\n    this.pointerUpListeners.set('documentPointerUpListener', function () {\n      _this.isDragging = false;\n    });\n\n    this.pointerUpListeners.set('bubblePointerUpListener', function () {\n      _this.handlePointerUp();\n    });\n\n    if (this.hasTouchSupport) {\n      this.pointerDownListener = function (event) {\n        var _event$touches$ = event.touches[0],\n            x = _event$touches$.clientX,\n            y = _event$touches$.clientY;\n\n        _this.handlePointerDownWithCoords({ x: x, y: y });\n      };\n\n      this.pointerMoveListener = function (event) {\n        var _event$touches$2 = event.touches[0],\n            x = _event$touches$2.clientX,\n            y = _event$touches$2.clientY;\n\n        _this.handlePointerMoveWithCoords({ x: x, y: y });\n      };\n\n      bubble.addEventListener('touchstart', this.pointerDownListener);\n      bubble.addEventListener('touchend', this.pointerUpListeners.get('bubblePointerUpListener'));\n      document.addEventListener('touchend', this.pointerUpListeners.get('documentPointerUpListener'));\n      container.addEventListener('touchmove', this.pointerMoveListener);\n    } else {\n      this.pointerDownListener = function (_ref4) {\n        var x = _ref4.x,\n            y = _ref4.y;\n\n        _this.handlePointerDownWithCoords({ x: x, y: y });\n      };\n\n      this.pointerMoveListener = function (_ref5) {\n        var x = _ref5.x,\n            y = _ref5.y;\n\n        _this.handlePointerMoveWithCoords({ x: x, y: y });\n      };\n\n      bubble.addEventListener('mousedown', this.pointerDownListener);\n      bubble.addEventListener('mouseup', this.pointerUpListeners.get('bubblePointerUpListener'));\n      document.addEventListener('mouseup', this.pointerUpListeners.get('documentPointerUpListener'));\n      container.addEventListener('mousemove', this.pointerMoveListener);\n    }\n\n    this.tick();\n  },\n  beforeDestroy: function beforeDestroy() {\n    var bubble = this.$refs['vsb-bubble'];\n    var container = bubble.parentNode;\n\n    bubble.removeEventListener('mousedown', this.pointerDownListener);\n    bubble.removeEventListener('mouseup', this.pointerUpListeners.get('bubblePointerUpListener'));\n    document.removeEventListener('mouseup', this.pointerUpListeners.get('documentPointerUpListener'));\n    container.removeEventListener('mousemove', this.pointerMoveListener);\n  }\n});\n\n/***/ }),\n\n/***/ 93:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 98:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"vsb-bubble\",\n    style: (_vm.appliedBubbleStyle),\n    attrs: {\n      \"id\": \"vsb-bubble\"\n    }\n  }, [_c('img', {\n    style: (_vm.iconStyle),\n    attrs: {\n      \"src\": _vm.icon,\n      \"draggable\": \"false\"\n    }\n  }), _vm._v(\" \"), (_vm.hasBadgeCount) ? _c('div', {\n    style: (_vm.appliedBadgeStyle),\n    attrs: {\n      \"id\": \"vsb-badge\"\n    }\n  }, [_vm._v(\"\\n    \" + _vm._s(_vm.badgeCount) + \"\\n  \")]) : _vm._e()])\n},staticRenderFns: []}\n\n/***/ })\n\n},[45]);\n\n\n// WEBPACK FOOTER //\n// docs/js/vue-sticky-bubble.eee3ea2e0240a3a6fdea.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-26fdc28e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./vue-sticky-bubble.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./vue-sticky-bubble.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-26fdc28e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./vue-sticky-bubble.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-26fdc28e\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/vue-sticky-bubble.vue\n// module id = 25\n// module chunks = 2","export const RESTING_PERIOD = 4;\nexport const FRICTION = 0.75;\nexport const REBOUND_STRENGTH = 0.25;\nexport const RESTING_VELOCITY = 0.0005;\nexport const TOLERANCE = 20;\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/index.js","import vueStickyBubble from './components/vue-sticky-bubble';\n\nexport default vueStickyBubble;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib.js","<template>\n  <div ref=\"vsb-bubble\" id=\"vsb-bubble\" :style=\"appliedBubbleStyle\">\n    <img :src=\"icon\" :style=\"iconStyle\" draggable=\"false\">\n    <div id=\"vsb-badge\" v-if=\"hasBadgeCount\" :style=\"appliedBadgeStyle\">\n      {{ badgeCount }}\n    </div>\n  </div>\n</template>\n<script>\nimport { FRICTION,\n         RESTING_PERIOD,\n         REBOUND_STRENGTH,\n         RESTING_VELOCITY,\n         TOLERANCE } from '../constants';\n\nconst sqr = x => x * x;\nconst abs = ({ x, y }) => Math.sqrt(sqr(x) + sqr(y));\n\nexport default {\n  name: 'vue-sticky-bubble',\n  props: {\n    size: {\n      type: Number,\n      default: 40,\n    },\n    bubbleStyle: {\n      type: Object,\n      default: () => {},\n    },\n    icon: {\n      type: String,\n      default: 'https://vuejs.org/images/logo.png',\n    },\n    badgeStyle: {\n      type: Object,\n      default: () => {},\n    },\n    badgeCount: {\n      type: Number,\n    },\n  },\n  methods: {\n    handleTap() {\n      this.$emit('tapped');\n    },\n    handlePointerDownWithCoords({ x, y }) {\n      this.isDragging = true;\n      this.hasRested = false;\n      this.initialPosition.x = x - this.limits.left;\n      this.initialPosition.y = y - this.limits.top;\n    },\n    handlePointerMoveWithCoords({ x, y }) {\n      this.pointerPosition.x = x - this.limits.left;\n      this.pointerPosition.y = y - this.limits.top;\n    },\n    handlePointerUp() {\n      const hasNoSignificantVelocity = abs(this.velocity) < RESTING_VELOCITY;\n      const isNearTheEdge = (this.position.x < (this.radius + TOLERANCE)) ||\n                            (this.position.x > (this.limits.width - this.radius - TOLERANCE));\n      const isNearOriginalPosition = abs(this.position) < (abs(this.initialPosition) + TOLERANCE);\n      if (isNearTheEdge && hasNoSignificantVelocity && isNearOriginalPosition) {\n        this.handleTap();\n      }\n    },\n    tick() {\n      const bubble = this.$refs['vsb-bubble'];\n      if (!bubble) return;\n\n      requestAnimationFrame(this.tick);\n\n      if (this.isDragging && !this.hasRested) {\n        this.previousPosition.x = this.position.x;\n        this.previousPosition.y = this.position.y;\n\n        this.position.x = this.pointerPosition.x;\n        this.position.y = this.pointerPosition.y;\n\n        this.velocity.x = (this.position.x - this.previousPosition.x);\n        this.velocity.y = (this.position.y - this.previousPosition.y);\n      } else {\n        this.position.x += this.velocity.x;\n        this.position.y += this.velocity.y;\n\n        this.velocity.x *= FRICTION;\n        this.velocity.y *= FRICTION;\n      }\n\n      if (this.position.x > this.limits.width - this.radius) {\n        this.velocity.x *= -REBOUND_STRENGTH;\n        this.position.x = this.limits.width - this.radius;\n      }\n\n      if (this.position.x < this.radius) {\n        this.velocity.x *= -REBOUND_STRENGTH;\n        this.position.x = this.radius;\n      }\n\n      if (this.position.y > this.limits.height - this.radius) {\n        this.velocity.y *= -REBOUND_STRENGTH;\n        this.position.y = this.limits.height - this.radius;\n      }\n\n      if (this.position.y < this.radius) {\n        this.velocity.y *= -REBOUND_STRENGTH;\n        this.position.y = this.radius;\n      }\n\n      if (this.velocity.x < RESTING_VELOCITY &&\n         this.velocity.y < RESTING_VELOCITY &&\n         !this.isDragging) {\n        if (this.position.x < this.limits.width / 2) {\n          this.isRestingRight = false;\n          this.velocity.x = (this.radius - this.position.x) / RESTING_PERIOD;\n        } else {\n          this.isRestingRight = true;\n          this.velocity.x = (this.limits.width - this.position.x - this.radius) / RESTING_PERIOD;\n        }\n        this.isResting = true;\n      }\n\n      if (this.isResting &&\n          (this.position.x === (this.limits.width - this.radius) ||\n           (this.position.x === this.radius))) {\n        this.isResting = false;\n        this.hasRested = true;\n      }\n\n      bubble.style.left = `${this.position.x}px`;\n      bubble.style.top = `${this.position.y}px`;\n    },\n  },\n  computed: {\n    hasBadgeCount() {\n      return !!this.badgeCount;\n    },\n    appliedBadgeStyle() {\n      return this.isRestingRight ? this.badgeStyle : {\n        ...this.badgeStyle,\n        right: 0,\n      };\n    },\n    iconStyle() {\n      const size = this.size || 40;\n      return {\n        width: `${size / 2}px`,\n        height: `${size / 2}px`,\n        marginTop: `${size / 4}px`,\n        userSelect: 'none',\n      };\n    },\n    sizeStyle() {\n      const size = this.size || 40;\n      return {\n        width: `${size}px`,\n        height: `${size}px`,\n        margin: `-${size / 2}px 0 0 -${size / 2}px`,\n        borderRadius: `${size}px`,\n      };\n    },\n    appliedBubbleStyle() {\n      return {\n        ...this.bubbleStyle,\n        ...this.sizeStyle,\n      };\n    },\n  },\n  data: () => ({\n    hasTouchSupport: false,\n    isResting: false,\n    isRestingRight: false,\n    hasRested: true,\n    isDragging: false,\n    initialPosition: { x: 0, y: 0 },\n    pointerPosition: { x: 0, y: 0 },\n    position: { x: 0, y: 0 },\n    previousPosition: { x: 0, y: 0 },\n    velocity: { x: 0, y: 0 },\n    limits: {},\n    radius: 0,\n    pointerDownListener: null,\n    pointerUpListeners: new Map(),\n    pointerMoveListener: null,\n  }),\n  mounted() {\n    if (typeof document === 'undefined') {\n      return;\n    }\n\n    const bubble = this.$refs['vsb-bubble'];\n    const container = bubble.parentNode;\n\n    const containerStyle = window.getComputedStyle(container, null);\n    if (!['relative', 'absolute'].includes(containerStyle.position)) {\n      throw new Error('Vue sticky bubble requires its parent to be positioned absolutely/relatively.');\n    }\n\n    this.hasTouchSupport = 'ontouchstart' in document.documentElement;\n    this.radius = bubble.offsetWidth / 2;\n    this.limits = container.getBoundingClientRect();\n\n    window.addEventListener('resize', () => {\n      this.radius = bubble.offsetWidth / 2;\n      this.limits = container.getBoundingClientRect();\n    });\n\n    this.pointerUpListeners.set('documentPointerUpListener', () => {\n      this.isDragging = false;\n    });\n\n    this.pointerUpListeners.set('bubblePointerUpListener', () => {\n      this.handlePointerUp();\n    });\n\n    if (this.hasTouchSupport) {\n      this.pointerDownListener = (event) => {\n        const { clientX: x, clientY: y } = event.touches[0];\n        this.handlePointerDownWithCoords({ x, y });\n      };\n\n      this.pointerMoveListener = (event) => {\n        const { clientX: x, clientY: y } = event.touches[0];\n        this.handlePointerMoveWithCoords({ x, y });\n      };\n\n      bubble.addEventListener('touchstart', this.pointerDownListener);\n      bubble.addEventListener('touchend', this.pointerUpListeners.get('bubblePointerUpListener'));\n      document.addEventListener('touchend', this.pointerUpListeners.get('documentPointerUpListener'));\n      container.addEventListener('touchmove', this.pointerMoveListener);\n    } else {\n      this.pointerDownListener = ({ x, y }) => {\n        this.handlePointerDownWithCoords({ x, y });\n      };\n\n      this.pointerMoveListener = ({ x, y }) => {\n        this.handlePointerMoveWithCoords({ x, y });\n      };\n\n      bubble.addEventListener('mousedown', this.pointerDownListener);\n      bubble.addEventListener('mouseup', this.pointerUpListeners.get('bubblePointerUpListener'));\n      document.addEventListener('mouseup', this.pointerUpListeners.get('documentPointerUpListener'));\n      container.addEventListener('mousemove', this.pointerMoveListener);\n    }\n\n    this.tick();\n  },\n  beforeDestroy() {\n    const bubble = this.$refs['vsb-bubble'];\n    const container = bubble.parentNode;\n\n    bubble.removeEventListener('mousedown', this.pointerDownListener);\n    bubble.removeEventListener('mouseup', this.pointerUpListeners.get('bubblePointerUpListener'));\n    document.removeEventListener('mouseup', this.pointerUpListeners.get('documentPointerUpListener'));\n    container.removeEventListener('mousemove', this.pointerMoveListener);\n  },\n};\n</script>\n\n<style scoped>\n  #vsb-bubble {\n    z-index: 9999;\n    box-shadow: 0 4px 8px 0 rgba(0,0,0,0.12), 0 2px 4px 0 rgba(0,0,0,0.08);\n    border-radius: 40px;\n    background: #fff;\n    position: absolute;\n    margin: -20px 0 0 -20px;\n    height: 40px;\n    width: 40px;\n    display: inline-block;\n  }\n  #vsb-badge{\n    border-radius: 9999px;\n    width: 30%;\n    height: 30%;\n    font-size: 0.75em;\n    background: red;\n    color: white;\n    position: absolute;\n    top: 0;\n    padding: 2px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// vue-sticky-bubble.vue?97f8be30","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"vsb-bubble\",\n    style: (_vm.appliedBubbleStyle),\n    attrs: {\n      \"id\": \"vsb-bubble\"\n    }\n  }, [_c('img', {\n    style: (_vm.iconStyle),\n    attrs: {\n      \"src\": _vm.icon,\n      \"draggable\": \"false\"\n    }\n  }), _vm._v(\" \"), (_vm.hasBadgeCount) ? _c('div', {\n    style: (_vm.appliedBadgeStyle),\n    attrs: {\n      \"id\": \"vsb-badge\"\n    }\n  }, [_vm._v(\"\\n    \" + _vm._s(_vm.badgeCount) + \"\\n  \")]) : _vm._e()])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-26fdc28e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/vue-sticky-bubble.vue\n// module id = 98\n// module chunks = 2"],"sourceRoot":""}